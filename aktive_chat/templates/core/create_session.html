<!-- templates/core/create_session.html -->
{% extends "base.html" %}

{% block title %}Create Subtitle Sharing Session{% endblock %}

{% block content %}
<div class="container py-4">
    <h2 class="mb-4">Create Subtitle Sharing Session</h2>
    
    <div class="card">
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                
                <div class="mb-3">
                    <label for="titleInput" class="form-label">Session Title</label>
                    <input type="text" class="form-control" id="titleInput" name="title" required>
                </div>
                
                <div class="mb-3">
                    <label for="descriptionInput" class="form-label">Description</label>
                    <textarea class="form-control" id="descriptionInput" name="description" rows="3"></textarea>
                </div>
                
                <div class="mb-3">
                    <label for="expiresInput" class="form-label">Expires After (hours)</label>
                    <select class="form-select" id="expiresInput" name="expires_in_hours">
                        <option value="1">1 hour</option>
                        <option value="2">2 hours</option>
                        <option value="6">6 hours</option>
                        <option value="12">12 hours</option>
                        <option value="24" selected>24 hours</option>
                        <option value="48">2 days</option>
                        <option value="168">1 week</option>
                        <option value="0">Never</option>
                    </select>
                </div>
                
                <h5 class="mt-4">Viewer Options</h5>
                
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="languageSelectionCheck" name="allow_language_selection" checked>
                    <label class="form-check-label" for="languageSelectionCheck">Allow viewers to select their language</label>
                </div>
                
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="fontCustomizationCheck" name="allow_font_customization">
                    <label class="form-check-label" for="fontCustomizationCheck">Allow viewers to customize subtitle fonts</label>
                </div>
                
                <h5 class="mt-4">Privacy & Security</h5>
                
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="passwordCheck" name="password_protected">
                    <label class="form-check-label" for="passwordCheck">Password protected</label>
                </div>
                
                <div class="mb-3 password-field" style="display: none;">
                    <label for="passwordInput" class="form-label">Password</label>
                    <input type="password" class="form-control" id="passwordInput" name="password">
                </div>
                
                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-primary">Create Session</button>
                </div>
            </form>
        </div>
    </div>
</div>

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Toggle password field visibility
        const passwordCheck = document.getElementById('passwordCheck');
        const passwordField = document.querySelector('.password-field');
        
        passwordCheck.addEventListener('change', function() {
            passwordField.style.display = this.checked ? 'block' : 'none';
        });
    });
</script>
{% endblock %}
{% endblock %}
